!function(c){c.widget("ui.resizable",c.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var e=this,t=this.options;if(this.element.addClass("ui-resizable"),c.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&c.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(c(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var i=this.handles.split(",");this.handles={};for(var s=0;s<i.length;s++){var h=c.trim(i[s]),o=c('<div class="ui-resizable-handle '+("ui-resizable-"+h)+'"></div>');/sw|se|ne|nw/.test(h)&&o.css({zIndex:++t.zIndex}),"se"==h&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[h]=".ui-resizable-"+h,this.element.append(o)}}this._renderAxis=function(t){for(var e in t=t||this.element,this.handles){if(this.handles[e].constructor==String&&(this.handles[e]=c(this.handles[e],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var i,s=c(this.handles[e],this.element);i=/sw|ne|nw|se|n|s/.test(e)?s.outerHeight():s.outerWidth();var h=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join("");t.css(h,i),this._proportionallyResize()}c(this.handles[e]).length}},this._renderAxis(this.element),this._handles=c(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!e.resizing){if(this.className)var t=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);e.axis=t&&t[1]?t[1]:"se"}}),t.autoHide&&(this._handles.hide(),c(this.element).addClass("ui-resizable-autohide").hover(function(){c(this).removeClass("ui-resizable-autohide"),e._handles.show()},function(){e.resizing||(c(this).addClass("ui-resizable-autohide"),e._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var t=function(t){c(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var e=this.element;e.after(this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var e=!1;for(var i in this.handles)c(this.handles[i])[0]==t.target&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(t){var e=this.options,i=this.element.position(),s=this.element;this.resizing=!0,this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()},(s.is(".ui-draggable")||/absolute/.test(s.css("position")))&&s.css({position:"absolute",top:i.top,left:i.left}),c.browser.opera&&/relative/.test(s.css("position"))&&s.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy();var h=u(this.helper.css("left")),o=u(this.helper.css("top"));e.containment&&(h+=c(e.containment).scrollLeft()||0,o+=c(e.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:h,top:o},this.size=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalPosition={left:h,top:o},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof e.aspectRatio?e.aspectRatio:this.originalSize.width/this.originalSize.height||1;var n=c(".ui-resizable-"+this.axis).css("cursor");return c("body").css("cursor","auto"==n?this.axis+"-resize":n),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e=this.helper,i=(this.options,this.originalMousePosition),s=this.axis,h=t.pageX-i.left||0,o=t.pageY-i.top||0,n=this._change[s];if(!n)return!1;var a=n.apply(this,[t,h,o]);c.browser.msie&&c.browser.version,this.sizeDiff;return(this._aspectRatio||t.shiftKey)&&(a=this._updateRatio(a,t)),a=this._respectSize(a,t),this._propagate("resize",t),e.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(a),this._trigger("resize",t,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var e=this.options,i=this;if(this._helper){var s=this._proportionallyResizeElements,h=s.length&&/textarea/i.test(s[0].nodeName),o=h&&c.ui.hasScroll(s[0],"left")?0:i.sizeDiff.height,n=h?0:i.sizeDiff.width,a={width:i.size.width-n,height:i.size.height-o},r=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,l=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;e.animate||this.element.css(c.extend(a,{top:l,left:r})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!e.animate&&this._proportionallyResize()}return c("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateCache:function(t){this.options;this.offset=this.helper.offset(),f(t.left)&&(this.position.left=t.left),f(t.top)&&(this.position.top=t.top),f(t.height)&&(this.size.height=t.height),f(t.width)&&(this.size.width=t.width)},_updateRatio:function(t,e){this.options;var i=this.position,s=this.size,h=this.axis;return t.height?t.width=s.height*this.aspectRatio:t.width&&(t.height=s.width/this.aspectRatio),"sw"==h&&(t.left=i.left+(s.width-t.width),t.top=null),"nw"==h&&(t.top=i.top+(s.height-t.height),t.left=i.left+(s.width-t.width)),t},_respectSize:function(t,e){this.helper;var i=this.options,s=(this._aspectRatio||e.shiftKey,this.axis),h=f(t.width)&&i.maxWidth&&i.maxWidth<t.width,o=f(t.height)&&i.maxHeight&&i.maxHeight<t.height,n=f(t.width)&&i.minWidth&&i.minWidth>t.width,a=f(t.height)&&i.minHeight&&i.minHeight>t.height;n&&(t.width=i.minWidth),a&&(t.height=i.minHeight),h&&(t.width=i.maxWidth),o&&(t.height=i.maxHeight);var r=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,p=/sw|nw|w/.test(s),d=/nw|ne|n/.test(s);n&&p&&(t.left=r-i.minWidth),h&&p&&(t.left=r-i.maxWidth),a&&d&&(t.top=l-i.minHeight),o&&d&&(t.top=l-i.maxHeight);var g=!t.width&&!t.height;return g&&!t.left&&t.top?t.top=null:g&&!t.top&&t.left&&(t.left=null),t},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var t=this.helper||this.element,e=0;e<this._proportionallyResizeElements.length;e++){var i=this._proportionallyResizeElements[e];if(!this.borderDif){var s=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],h=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];this.borderDif=c.map(s,function(t,e){return(parseInt(t,10)||0)+(parseInt(h[e],10)||0)})}c.browser.msie&&(c(t).is(":hidden")||c(t).parents(":hidden").length)||i.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,e=this.options;if(this.elementOffset=t.offset(),this._helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');var i=c.browser.msie&&c.browser.version<7,s=i?1:0,h=i?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+h,height:this.element.outerHeight()+h,position:"absolute",left:this.elementOffset.left-s+"px",top:this.elementOffset.top-s+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(t,e,i){return{width:this.originalSize.width+e}},w:function(t,e,i){this.options;var s=this.originalSize;return{left:this.originalPosition.left+e,width:s.width-e}},n:function(t,e,i){this.options;var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(t,e,i){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},sw:function(t,e,i){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,i]))},ne:function(t,e,i){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},nw:function(t,e,i){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,i]))}},_propagate:function(t,e){c.ui.plugin.call(this,t,[e,this.ui()]),"resize"!=t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),c.extend(c.ui.resizable,{version:"1.8"}),c.ui.plugin.add("resizable","alsoResize",{start:function(t,e){var i=c(this).data("resizable").options,s=function(t){c(t).each(function(){c(this).data("resizable-alsoresize",{width:parseInt(c(this).width(),10),height:parseInt(c(this).height(),10),left:parseInt(c(this).css("left"),10),top:parseInt(c(this).css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):c.each(i.alsoResize,function(t,e){s(t)})},resize:function(t,e){var o=c(this).data("resizable"),i=o.options,s=o.originalSize,h=o.originalPosition,n={height:o.size.height-s.height||0,width:o.size.width-s.width||0,top:o.position.top-h.top||0,left:o.position.left-h.left||0},a=function(t,i){c(t).each(function(){var t=c(this),s=c(this).data("resizable-alsoresize"),h={},e=i&&i.length?i:["width","height","top","left"];c.each(e||["width","height","top","left"],function(t,e){var i=(s[e]||0)+(n[e]||0);i&&0<=i&&(h[e]=i||null)}),/relative/.test(t.css("position"))&&c.browser.opera&&(o._revertToRelativePosition=!0,t.css({position:"absolute",top:"auto",left:"auto"})),t.css(h)})};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?a(i.alsoResize):c.each(i.alsoResize,function(t,e){a(t,e)})},stop:function(t,e){var i=c(this).data("resizable");i._revertToRelativePosition&&c.browser.opera&&(i._revertToRelativePosition=!1,el.css({position:"relative"})),c(this).removeData("resizable-alsoresize-start")}}),c.ui.plugin.add("resizable","animate",{stop:function(e,t){var i=c(this).data("resizable"),s=i.options,h=i._proportionallyResizeElements,o=h.length&&/textarea/i.test(h[0].nodeName),n=o&&c.ui.hasScroll(h[0],"left")?0:i.sizeDiff.height,a=o?0:i.sizeDiff.width,r={width:i.size.width-a,height:i.size.height-n},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,p=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(c.extend(r,p&&l?{top:p,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var t={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};h&&h.length&&c(h[0]).css({width:t.width,height:t.height}),i._updateCache(t),i._propagate("resize",e)}})}}),c.ui.plugin.add("resizable","containment",{start:function(t,e){var i=c(this).data("resizable"),s=i.options,h=i.element,o=s.containment,n=o instanceof c?o.get(0):/parent/.test(o)?h.parent().get(0):o;if(n)if(i.containerElement=c(n),/document/.test(o)||o==document)i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight};else{var a=c(n),r=[];c(["Top","Right","Left","Bottom"]).each(function(t,e){r[t]=u(a.css("padding"+e))}),i.containerOffset=a.offset(),i.containerPosition=a.position(),i.containerSize={height:a.innerHeight()-r[3],width:a.innerWidth()-r[1]};var l=i.containerOffset,p=i.containerSize.height,d=i.containerSize.width,g=c.ui.hasScroll(n,"left")?n.scrollWidth:d,f=c.ui.hasScroll(n)?n.scrollHeight:p;i.parentData={element:n,left:l.left,top:l.top,width:g,height:f}}},resize:function(t,e){var i=c(this).data("resizable"),s=i.options,h=(i.containerSize,i.containerOffset),o=(i.size,i.position),n=i._aspectRatio||t.shiftKey,a={top:0,left:0},r=i.containerElement;r[0]!=document&&/static/.test(r.css("position"))&&(a=h),o.left<(i._helper?h.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-h.left:i.position.left-a.left),n&&(i.size.height=i.size.width/s.aspectRatio),i.position.left=s.helper?h.left:0),o.top<(i._helper?h.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-h.top:i.position.top),n&&(i.size.width=i.size.height*s.aspectRatio),i.position.top=i._helper?h.top:0),i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top;var l=Math.abs((i._helper,i.offset.left-a.left+i.sizeDiff.width)),p=Math.abs((i._helper?i.offset.top-a.top:i.offset.top-h.top)+i.sizeDiff.height),d=i.containerElement.get(0)==i.element.parent().get(0),g=/relative|absolute/.test(i.containerElement.css("position"));d&&g&&(l-=i.parentData.left),l+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-l,n&&(i.size.height=i.size.width/i.aspectRatio)),p+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-p,n&&(i.size.width=i.size.height*i.aspectRatio))},stop:function(t,e){var i=c(this).data("resizable"),s=i.options,h=(i.position,i.containerOffset),o=i.containerPosition,n=i.containerElement,a=c(i.helper),r=a.offset(),l=a.outerWidth()-i.sizeDiff.width,p=a.outerHeight()-i.sizeDiff.height;i._helper&&!s.animate&&/relative/.test(n.css("position"))&&c(this).css({left:r.left-o.left-h.left,width:l,height:p}),i._helper&&!s.animate&&/static/.test(n.css("position"))&&c(this).css({left:r.left-o.left-h.left,width:l,height:p})}}),c.ui.plugin.add("resizable","ghost",{start:function(t,e){var i=c(this).data("resizable"),s=i.options,h=i.size;i.ghost=i.originalElement.clone(),i.ghost.css({opacity:.25,display:"block",position:"relative",height:h.height,width:h.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof s.ghost?s.ghost:""),i.ghost.appendTo(i.helper)},resize:function(t,e){var i=c(this).data("resizable");i.options;i.ghost&&i.ghost.css({position:"relative",height:i.size.height,width:i.size.width})},stop:function(t,e){var i=c(this).data("resizable");i.options;i.ghost&&i.helper&&i.helper.get(0).removeChild(i.ghost.get(0))}}),c.ui.plugin.add("resizable","grid",{resize:function(t,e){var i=c(this).data("resizable"),s=i.options,h=i.size,o=i.originalSize,n=i.originalPosition,a=i.axis;s._aspectRatio||t.shiftKey;s.grid="number"==typeof s.grid?[s.grid,s.grid]:s.grid;var r=Math.round((h.width-o.width)/(s.grid[0]||1))*(s.grid[0]||1),l=Math.round((h.height-o.height)/(s.grid[1]||1))*(s.grid[1]||1);/^(se|s|e)$/.test(a)?(i.size.width=o.width+r,i.size.height=o.height+l):/^(ne)$/.test(a)?(i.size.width=o.width+r,i.size.height=o.height+l,i.position.top=n.top-l):(/^(sw)$/.test(a)?(i.size.width=o.width+r,i.size.height=o.height+l):(i.size.width=o.width+r,i.size.height=o.height+l,i.position.top=n.top-l),i.position.left=n.left-r)}});var u=function(t){return parseInt(t,10)||0},f=function(t){return!isNaN(parseInt(t,10))}}(jQuery);